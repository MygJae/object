# 타입 계층의 구현
## 00. 개요
- 타입은 개념의 분류를 의미하고 클래스는 타입을 구현하는 한가지 방법
### 클래스를 이용한 타입 계층 구현
- 클래스를 사용자 정의 타입 -> 타입은 객체의 퍼블릭 인터페이스를 가리키기 때문에 결과적으로 클래스는 객체의 타입과 구현을 동시에 정의
- Phone 클래스
- 상속을 이용하면 자식 클래스가 부모 클래스의 구현뿐만 아니라 퍼블릭 인터페이스도 물려받을 수 있기 때문에 타입 계층을 쉽게 구현 가능 -> 가급적 추상 클래스를 상속받거나 인터페이스를 구현하는 방법을 사용해야 함
### 인터페이스를 이용한 타입 계층 구현
- 수많은 객체들 중에서 실제로 플레이어의 게임 플레이에 영향을 미치는 객체들을 동일한 타입으로 분류
- 객체 타입 GameObject
	- Displayable
		- player
		- monster
		- explosion
	- Effect
		- sound
		- explosion
- 인터페이스 사용 -> 상속으로 인한 결합도 문제를 피하고 다중 상속이라는 구현 제약도 해결할 수 있는 방법
- 타입과 클래스 
	- 여러 클래스가 동일한 타입으로 구현할 수 있음
	- 하나의 클래스가 여러 타입을 구현할 수 있음
	- 타입은 동일한 퍼블릭 인터페이스를 가진 객체들의 범주
	- 클래스는 타입에 속하는 객체들을 구현하기 위한 구현 메커니즘
### 추상 클래스를 이용한 타입 계층 구현
- 추상 클래스 사용 -> 클래스 상속을 이용해 구현을 공유하면서도 결합도로 인한 부작용 피하기
- 영화 예매 시스템 할인정책 구현 DiscountPolicy
- 모든 구체 클래스의 부모 클래스를 항상 추상 클래스로 만들기 위해 노력
- 의존하는 대상이 더 추상적일수록 결합도는 낮아지고 결합도가 낮아질수록 변경으로 인한 영향도는 줄어듬
- 상속을 사용하는 의도 -> 추상클래스는 자신의 인스턴스를 직접 생성할 수 없으므로 자식 클래스를 추가
### 추상 클래스와 인터페이스 결합하기
- 골격 구현 추상 클래스 -> 효과적인 접근 방법은 인터페이스를 이요해 타입을 정의하고 특정 상속 계층에 국한된 코드를 공유할 수 있을경우에는 추상 클래스를 이요해 코드 중복을 방지
- 인터페이스와 추상 클래스를 함께 사용하는 방법은 추상클래스만 사용하는 방법에 비해 장점
	- 다양한 구현 방법이 필요한 경우 새로운 추상 클래스를 추가해서 쉽게 해결
	- 이미 부모 클래스가 존재하는 클래스라고 하더라도 인터페이스를 추가함으로써 새로운 타입으로 쉽게 확장
### 덕 타이핑 사용하기
- 동적 타입 언어에서 사용하는 방법으로 덕 테스트를 프로그래밍 언어에 적용한 것
- Empoyee, SalariedEmployee, HourLyEmployee 클래스
- 덕 타이핑
	- 루비에서 명시적으로 동일한 클래스를 상속받거나 동일한 인터페이스를 구현하지 않더라도 시그니처가 동일한 메서드를 가진 클래스를 가진 클래스는 같은 타입으로 취급
	- 메서드의 시그니처만 동일하면 명시적인 타입 선언이라는 컨텍스트를 제거할 수 있음
	- 클래스나 인터페이스에 대한 의존성을 메시지에 대한 의존성으로 대체
	- 낮은 결합도를 유지하고 변경에 유연하게 대응
### 믹스인과 타입 계층
- 믹스인
	- 객체를 생성할 때 코드 일부를 섞어 넣을 수 있도록 만들어진 일종의 추상 서브클래스
	- 다양한 객체 구현 안에서 동일한 행동을 중복 코드 없이 재사용할 수 있게 만듬
- 스칼라 언어
	- 믹스인 구현을 위해 트레이트를 사용
	- 디폴트 메서드는 인터페이스에 메서드의 기본 구현을 추가하는 것을 허용
	- 디폴트 메서드는 기존에 널리 사용되고 있는 인터페이스에 새로운 오퍼레이션을 추가할 경우에 발생하는 하위 호환성 문제를 해결(추상클래스 제거 목적이 아님)
## 읽고 느낀점
- 클래스와 타입의 차이를 알 수 있었다.
- 타입과 타입 계층을 구현하는 방법을 알 수 있었다.
